<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
<title>JSSpec results</title>
<link rel="stylesheet" type="text/css" href="lib/jsspec/JSSpec.css" />

<script type="text/javascript" src="lib/jsspec/diff_match_patch.js"></script>
<script type="text/javascript" src="lib/jsspec/JSSpec.js"></script>
<script src="jerboa.js"></script>
<script type="text/javascript">// <![CDATA[



describe('Test Speed craeteELement and cloneNode',{
	'cE > cN': function() {
		var i =0,max = 100,start = [],end = [];
		start[0] = (new Date()).getTime();
		for(i=0;i<max;i++)	{var ele = document.createElement('div').appendChild(document.createElement("div").appendChild(document.createElement("div")).parentNode).parentNode;}
		end[0] = (new Date()).getTime();
		
		i=0;
		start[1] = (new Date()).getTime();
		for(i=0;i<max;i++)	ele = ele.cloneNode(1);
		end[1] = (new Date()).getTime();
		
		value_of((end[0] - start[0])>(end[1] - start[1])).should_be_true();
		
	}
});
describe('Element Test', {
	'create first element': function() {
		value_of($.Element.create("div")).should_not_be(null);
	}
	,'use cache when create same element': function() {
		var _element = $.Element.create("div")
		,_obj = [_element.tagName,_element.children.length,_element.attributes.length]
		,_obj1 = [$.Element.cache['div'].tagName,$.Element.cache['div'].children.length,$.Element.cache['div'].attributes.length]
		;
		value_of(_obj).should_be(_obj1);
	}
	,'create second element': function() {
		value_of($.Element.create("span")).should_not_be();
	}
	,'cache object will have 2 items': function() {
		var i=0;
		for(var key in $.Element.cache) i++;
		value_of(i).should_be(2);
	}
});

describe('UI INPUT [textfield] Test',{
	'create input [textfield] value = test': function() {
		var _element = $.UI.textfield("user","test")
		,_obj = [_element.tagName,_element.getAttribute("type"),_element.getAttribute("value"),_element.getAttribute("name")]
		;
		value_of(_obj).should_be(["INPUT","text","test","user"]);
	}
	,'use cache when create same textfield 1': function() {
		var _element = $.UI.textfield("user","test")
		,_obj = [_element.tagName,_element.getAttribute("type"),_element.getAttribute("value"),_element.getAttribute("name")]
		,_obj1 = [$.UI.cache['textfieldusertest'].tagName,$.UI.cache['textfieldusertest'].getAttribute("type"),$.UI.cache['textfieldusertest'].getAttribute("value"),$.UI.cache['textfieldusertest'].getAttribute("name")]
		;
		value_of(_obj).should_be(_obj1);
	}
	,'create input [textfield] value = null': function() {
		var _element = $.UI.textfield()
		,_obj = [_element.tagName,_element.getAttribute("type"),_element.getAttribute("value")]
		;
		value_of(_obj).should_be(["INPUT","text",""]);
	}
	,'use cache when create same textfield 2': function() {
		var _element = $.UI.textfield()
		,_obj = [_element.tagName,_element.getAttribute("type"),_element.getAttribute("value")]
		,_obj1 = [$.UI.cache['textfield'].tagName,$.UI.cache['textfield'].getAttribute("type"),$.UI.cache['textfield'].getAttribute("value")]
		;
		value_of(_obj).should_be(_obj1);
	}
});
describe('UI Button Test',{
	'create button with text = test': function() {
		var _element = $.UI.button('test')
		,_obj = [_element.innerHTML,_element.getAttribute('class')]
		;
		value_of(_obj).should_be(["<span>test</span>","jerboa-button"]);
	}
	,'use cache when create button with text = test': function() {
		var _element = $.UI.button('test')
		,_obj = [_element.innerHTML,_element.getAttribute('class')]
		,_obj1 = [$.UI.cache["buttontest"].innerHTML,$.UI.cache["buttontest"].getAttribute("class")]
		;
		value_of(_obj).should_be(_obj1);
	}
	,'create button with text = null': function() {
		var _element = $.UI.button()
		,_obj = [_element.innerHTML,_element.getAttribute('class')]
		;
		value_of(_obj).should_be(["<span></span>","jerboa-button"]);
	}
	,'use cache when create button with text = null': function() {
		var _element = $.UI.button()
		,_obj = [_element.innerHTML,_element.getAttribute('class')]
		,_obj1 = [$.UI.cache["button"].innerHTML,$.UI.cache["button"].getAttribute("class")]
		;
		value_of(_obj).should_be(_obj1);
	}
});
describe('CSS getObjectOfStyle Test',{
	'style = "" ': function() {
		var element = $.Element.set({tag:'div',attr:{style: ''}});
		value_of($.CSS.getObjectOfStyle(element)).should_be({
			
		});
	}
	,'style = "top:45px;left:0px;margin:0 auto;" ': function() {
		var element = $.Element.set({tag:'div',attr:{style: 'top:45px;left:0px;margin:0px auto;'}});
		value_of($.CSS.getObjectOfStyle(element)).should_be({
			top: '45px'
			,left: '0px'
			,margin: '0px auto'
		});
	}
	,'style = ";top:45px;left-test:0px" ': function() {
		var element = $.Element.set({tag:'div',attr:{style: ';top:45px;left-test:0px'}});
		value_of($.CSS.getObjectOfStyle(element)).should_be({
			top: '45px'
		});
	}
	,'style = ";top:45px;left:0px" ': function() {
		var element = $.Element.set({tag:'div',attr:{style: ';top:45px;left:0px'}});
		value_of($.CSS.getObjectOfStyle(element)).should_be({
			top: '45px'
			,left: '0px'
		});
	}
	,'style = "top:45px;margin-left:0px" ': function() {
		var element = $.Element.set({tag:'div',attr:{style: ';top:45px;margin-left:0px'}});
		value_of($.CSS.getObjectOfStyle(element)).should_be({
			top: '45px'
			,'margin-left': '0px'
		});
	}
});
describe('CSS setObjectOfStyle Test',{
	'object = {}': function() {
		var object = {}
		,element = $.Element.set({tag:'div',attr:{style:'top:0px;left:5px'}});
		;
		$.CSS.setObjectOfStyle(element,object)
		value_of(element.getAttribute('style')).should_be('');
	}
	,'object = {top:"45px",left:"60px",margin:"0px auto"}': function() {
		var object = {top:"45px",left:"60px",margin:"0px auto"}
		,element = $.Element.set({tag:'div',attr:{style:'top:0px;left:5px'}});
		;
		$.CSS.setObjectOfStyle(element,object)
		value_of(element.getAttribute('style')).should_be('top: 45px; left: 60px; margin: 0px auto;');
	}
	,'object = {top:"45px",left-test:"0px",$:"0px"}': function() {
		var object = {top:"45px",'left-test':"0px",$:"0px"}
		,element = $.Element.set({tag:'div',attr:{style:'top:0px;left:5px'}});
		;
		$.CSS.setObjectOfStyle(element,object)
		value_of(element.getAttribute('style')).should_be('top: 45px;');
	}
	,'object = {top:"45px",margin-top:"0px"}': function() {
		var object = {top:"45px",'margin-top':"0px"}
		,element = $.Element.set({tag:'div',attr:{style:'top:0px;left:5px'}});
		;
		$.CSS.setObjectOfStyle(element,object)
		value_of(element.getAttribute('style')).should_be('top: 45px; margin-top: 0px;');
	}
});
describe('CSS addStyle Test',{
	'style="" add "" ': function() {
		var element = $.Element.set({tag:'div',attr: {style: ''}})
		;
		$.CSS.addStyle(element,{});
		value_of(element.getAttribute('style')).should_be('');
	}
	,'style="margin:0px" add "" ': function() {
		var element = $.Element.set({tag:'div',attr: {style: 'margin: 0px;'}})
		;
		$.CSS.addStyle(element,{});
		value_of(element.getAttribute('style')).should_be('margin: 0px;');
	}
	,'style="top:0px;" add "left:45px;" ': function() {
		var element = $.Element.set({tag:'div',attr: {style: 'top:0px'}})
		;
		$.CSS.addStyle(element,{left:'45px'});
		value_of(element.getAttribute('style')).should_be('top: 0px; left: 45px;');
	}
	,'style="top:0px;left:45px;margin-top:0px;" add "top:45px" ': function() {
		var element = $.Element.set({tag:'div',attr: {style: 'top:0px;left:45px;margin-top:0px;'}})
		;
		$.CSS.addStyle(element,{top: '45px'});
		value_of(element.getAttribute('style')).should_be('top: 45px; left: 45px; margin-top: 0px;');
	}
	,'style="top:0px;" add "left:0px;$:0px" ': function() {
		var element = $.Element.set({tag:'div',attr: {style: 'top:0px'}})
		;
		$.CSS.addStyle(element,{left: '0px',$: '0px'});
		value_of(element.getAttribute('style')).should_be('top: 0px; left: 0px;');
	}
	,'style="top:0px;" add "left:0px;margin-top:0px" ': function() {
		var element = $.Element.set({tag:'div',attr: {style: 'top:0px'}})
		;
		$.CSS.addStyle(element,{left: '0px','margin-top': '0px'});
		value_of(element.getAttribute('style')).should_be('top: 0px; left: 0px; margin-top: 0px;');
	}
	,'style="top:0px;" add "left:0px;top:10px" ': function() {
		var element = $.Element.set({tag:'div',attr: {style: 'top:0px'}})
		;
		$.CSS.addStyle(element,{left: '0px',top: '10px'});
		value_of(element.getAttribute('style')).should_be('top: 10px; left: 0px;');
	}
	
});
describe('CSS removeStyle Test',{

});
// ]]></script>
</head>
<body></body>
</html>
