<a href="(function(){DEBUG_MODE=0;var%20$={};$.env={ie:/MSIE/i.test(navigator.userAgent),ie6:/MSIE%206/i.test(navigator.userAgent),ie7:/MSIE%207/i.test(navigator.userAgent),ie8:/MSIE%208/i.test(navigator.userAgent),firefox:/Firefox/i.test(navigator.userAgent),opera:/Opera/i.test(navigator.userAgent),webkit:/Webkit/i.test(navigator.userAgent),camino:/Camino/i.test(navigator.userAgent)};$.onDomReady=function(callback){if(document.addEventListener){document.addEventListener('DOMContentLoaded',callback,false)}else{if(document.body&&document.body.lastChild){callback()}else{var%20nameFunction=arguments.callee;setTimeout(function(){nameFunction(callback)},50)}}};$.Events={add:function(element,eventType,callback){var%20self=this;eventType=eventType.toLowerCase();if(element.addEventListener){element.addEventListener(eventType,callback,false)}else%20if(element.attachEvent){element.attachEvent('on'+eventType,callback)}},remove:function(element,eventType,callback){eventType=eventType.toLowerCase();if(element.removeEventListener){element.removeEventListener(eventType,callback,false)}else%20if(element.detachEvent){element.detachEvent('on'+eventType,callback)}},standardize:function(event){var%20page=this.getMousePositionRelativeToDocument(event);if(event.stopPropagation){event.stopPropagation()}else{event.cancelBubble=true}return{target:this.getTarget(event),pageX:page.x,pageY:page.y,preventDefault:function(){if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}}},getTarget:function(event){var%20target=event.srcElement||event.target;if(target.nodeType==3){target=target.parentNode}return%20target},getMousePositionRelativeToDocument:function(event){var%20x=0,y=0;if(event.pageX){x=event.pageX;y=event.pageY}else%20if(event.clientX){x=event.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;y=event.clientY+document.body.scrollTop+document.documentElement.scrollTop}return{x:x,y:y}},getMousePositionOffset:function(event){var%20x=0,y=0;if(event.layerX){x=event.layerX;y=event.layerY}else%20if(event.offsetX){x=event.offsetX;y=event.offsetY}return{x:x,y:y}},getRelatedTarget:function(event){var%20relatedTarget=event.relatedTarget;if(event.type=='mouseover'){relatedTarget=event.fromElement}else%20if(event.type=='mouseout'){relatedTarget=event.toElement}return%20relatedTarget}};$.CSS={getArrayOfClassNames:function(element){var%20classNames=[];if(element.className){classNames=element.className.split('%20')}return%20classNames},addClass:function(element,className){var%20classNames=this.getArrayOfClassNames(element);classNames.push(className);element.className=classNames.join('%20')},removeClass:function(element,className){var%20classNames=this.getArrayOfClassNames(element);var%20resultingClassNames=[];for(var%20index=0;index<classNames.length;index++){if(className!=classNames[index]){resultingClassNames.push(classNames[index])}}element.className=resultingClassNames.join('%20')},hasClass:function(element,className){var%20isClassNamePresent=false;var%20classNames=this.getArrayOfClassNames(element);for(var%20index=0;index<classNames.length;index++){if(className==classNames[index]){isClassNamePresent=true}}return%20isClassNamePresent},getPosition:function(element){var%20x=0,y=0;var%20elementBackup=element;x+=element.offsetLeft;y+=element.offsetTop;return{x:x,y:y,height:elementBackup.offsetHeight,width:elementBackup.offsetWidth}},getObjectOfStyle:function(element){var%20listStyle=element.getAttribute('style'),i=0,len=0,objectStyle={},cssValue='';if(listStyle){listStyle=listStyle.split(';');for(i=0,len=listStyle.length;i<len;i++){if(listStyle[i]){cssValue=listStyle[i].split(':');cssValue[0]=cssValue[0].replace(/^[\s]+/g,'');cssValue[1]=cssValue[1].replace(/^[\s]+/g,'');cssValue[0]=cssValue[0].replace(/[\s]+$/g,'');cssValue[1]=cssValue[1].replace(/[\s]+$/g,'');objectStyle[cssValue[0]]=cssValue[1]}}}return%20objectStyle},setObjectOfStyle:function(element,objectStyle){var%20listStyle='',item;for(item%20in%20objectStyle){listStyle=listStyle.concat(item+':'+objectStyle[item]+';')}element.setAttribute('style',listStyle)},addStyle:function(element,List){var%20objStyle=this.getObjectOfStyle(element),item;for(item%20in%20List){objStyle[item]=List[item]}this.setObjectOfStyle(element,objStyle)},removeStyle:function(element,List){var%20objStyle=this.getObjectOfStyle(element),i,len;for(i=0,len=List.length;i<len;i++){if(objStyle[List[i]]){delete%20objStyle[List[i]]}}this.setObjectOfStyle(element,objStyle)}};$.Utils={toCamelCase:function(hyphenatedValue){var%20result=hyphenatedValue.replace(/-\D/g,function(character){return%20character.charAt(1).toUpperCase()});return%20result},toHyphens:function(camelCaseValue){var%20result;result=camelCaseValue.replace(/[A-Z]/g,function(character){return('-'+character.charAt(0).toLowerCase())});return%20result}};$.Element={cache:{},set:function(element,List){if(arguments.length==1){List=arguments[0];element=this.create(List.tag||List.Tag||'div')}var%20listAttr=List.Attr||List.attr||{},listEvent=List.event||List.Event||{};if(listEvent.add){$.Events.add(element,listEvent.add,listEvent.fn)}else%20if(listEvent.remove){$.Events.remove(element,listEvent.remove,listEvent.fn)}for(var%20key%20in%20listAttr){element.setAttribute(key,listAttr[key])}if(List.html)element.innerHTML=List.html;return%20element},create:function(nameElement){if(!this.cache[nameElement])this.cache[nameElement]=document.createElement(nameElement);return%20this.cache[nameElement].cloneNode(0)}};$.UI={cache:{},button:function(value){var%20_value=value||'';if(!this.cache['button'+_value])this.cache['button'+_value]=$.Element.set({tag:'div',attr:{'class':'jerboa-button%20jerboa-ignore'}}).appendChild($.Element.set({tag:'span',attr:{'class':'jerboa-ignore'},html:_value})).parentNode;return%20this.cache['button'+_value].cloneNode(1)},textfield:function(name,value){var%20_value=value||'',_name=name||'';if(!this.cache['textfield'+_name+_value])this.cache['textfield'+_name+_value]=$.Element.set({tag:'input',attr:{'id':_name,'name':_name,'class':'jerboa-ignore','type':'text','value':_value}});return%20this.cache['textfield'+_name+_value].cloneNode(1)},layerPanel:function(index){var%20isFirst=index?'':'jerboa-lactive',element=$.Element.set({tag:'li',attr:{'class':isFirst,'index':index},event:{add:'click',fn:Jerboa.ui['layer_panel'].selectLayer}});element.appendChild($.Element.set({tag:'span',event:{add:'click',fn:Jerboa.ui['layer_panel'].hideLayer}}));element.appendChild($.Element.set({tag:'p',event:{add:'click',fn:$.bind(Jerboa.ui['layer_panel'].editNameLayer,Jerboa,0)}}));return%20element}};$.bind=function(callback,scope,useThrottle){var%20scope=scope||window,argsStatic=Array.prototype.slice.call(arguments,3);if(useThrottle){return%20function(){var%20argsDynamic=arguments;clearTimeout(callback.tId);callback.tId=setTimeout(function(){callback.apply(scope,argsStatic.concat(Array.prototype.slice.call(argsDynamic,0)))},useThrottle)}}else%20return%20function(){callback.apply(scope,argsStatic.concat(Array.prototype.slice.call(arguments,0)))}};$.getByClass=function(root,nameClass){var%20_element=[],i,len;if($.env.ie){for(i=0,len=root.children.length;i<len;i++){if(root.children[i].className==nameClass)_element.push(root.children[i])}}else%20_element=root.getElementsByClassName(nameClass);return%20_element};Jerboa=function(element,path){var%20_window=window,_document=document,lib=$,path=path||'../../';if(document.body)document.body.innerHTML+='<div%20id=\'jerboa-loader\'%20style=\'position:fixed;top:0;left:0;width:100%;z-index:3003;height:100%;background:#FFF%20url('+path+'img/loader.gif)%20no-repeat%20center%20120px;text-align:center;line-height:200px;font-variant:small-caps;\'>loading...</div>';else%20document.write('<div%20id=\'jerboa-loader\'%20style=\'position:fixed;top:0;left:0;width:100%;z-index:3003;height:100%;
background:#FFF%20url(img/loader.gif)%20no-repeat%20center%20120px;text-align:center;line-height:200px;font-variant:small-caps;\'>loading...</div>'.replace(/img\//ig,path+'img/'));Jerboa={verstion:'0.001',$:lib,editElement:element||'edit',currentPath:path,currentPanel:null,currentLayer:0,currentState:'',currentEditElement:null,history:[],ui:{},cache:{indexLayer:0},init:function(){var%20_fragment=document.createDocumentFragment(),J=Jerboa,i,len,cssLoaded=false,$=J.$,addDocumentEvent=$.bind($.Events.add,null,0,document),loader=document.getElementById('jerboa-loader'),old_content='';if(DEBUG_MODE)document.getElementById(J.editElement).innerHTML='';loader.innerHTML='load%20jerboa';for(i=0,len=document.styleSheets.length;i<len;i++){if(/jerboa\.css/i.test(document.styleSheets[i].href)){cssLoaded=true;break}}if(!cssLoaded){document.getElementsByTagName('head')[0].appendChild($.Element.set({tag:'link',attr:{rel:'stylesheet',type:'text/css',href:J.currentPath+'jerboa.css'}}))}J.ui['screen']=document.getElementById(J.editElement);$.CSS.addStyle(J.ui['screen'],{'padding':'0'});if(J.ui['screen'].children[0]&&J.ui['screen'].children[0].className=='jerboa-ignore'){J.ui['screen'].element=J.ui['screen'].children[0];old_content=J.ui['screen'].element.innerHTML}else{J.ui['screen'].element=$.Element.set({tag:'div',attr:{'class':'jerboa-ignore','style':'position:relative;top:0;left:0;width:100%;height:auto;overflow:hidden;'}});old_content=J.ui['screen'].innerHTML;J.ui['screen'].innerHTML='';J.ui['screen'].appendChild(J.ui['screen'].element)}J.ui['layer']=[];if(J.ui['screen'].element.children[0]&&$.CSS.hasClass(J.ui['screen'].element.children[0],'jerboa-layer')){J.ui['layer'][0]=J.ui['screen'].element.children[0]}else{J.ui['layer'][0]=$.Element.set({tag:'div',attr:{'index':0,'class':'jerboa-layer%20jerboa-ignore','style':'z-index:2000;'},html:old_content});J.ui['screen'].element.appendChild(J.ui['layer'][0])}J.ui['main']=$.Element.set({tag:'div',attr:{id:'jerboa'}});J.ui['main_menu']=$.Element.set({tag:'div',attr:{id:'jerboa-wrapper'}});J.ui['main'].appendChild(J.ui['main_menu']);J.ui['dark_screen']=$.Element.set({tag:'div',attr:{id:'jerboa-darkbox','class':'jerboa-hide%20jerboa-ignore'}});J.ui['main'].appendChild(J.ui['dark_screen']);J.ui['menu']=[];J.ui['menu'].push($.Element.set({tag:'div',attr:{id:'jerboa-menu','class':'jerboa-ignore'}}));J.ui['menu'].push($.Element.set({tag:'div',attr:{id:'jerboa-insert','class':'jerboa-panel%20jerboa-hide'}}));J.ui['menu'].push($.Element.set({tag:'div',attr:{id:'jerboa-text','class':'jerboa-panel%20jerboa-hide'}}));J.cache.tempFn7=$.bind(J.show.menu,J,0,J.ui['menu'][0]);J.ui['light_screen_top']=$.Element.set({tag:'div',attr:{'class':'jerboa-lightbox%20jerboa-ignore',style:''}});J.ui['light_screen_left']=$.Element.set({tag:'div',attr:{'class':'jerboa-lightbox%20jerboa-ignore',style:''}});J.ui['light_screen_right']=$.Element.set({tag:'div',attr:{'class':'jerboa-lightbox%20jerboa-ignore',style:''}});J.ui['light_screen_bottom']=$.Element.set({tag:'div',attr:{'class':'jerboa-lightbox%20jerboa-ignore',style:''}});J.ui['main'].appendChild(J.ui['light_screen_top']);J.ui['main'].appendChild(J.ui['light_screen_left']);J.ui['main'].appendChild(J.ui['light_screen_right']);J.ui['main'].appendChild(J.ui['light_screen_bottom']);J.refreshScreen.call(J);J.ui['setting_box']=$.Element.set({tag:'div',attr:{'class':'jerboa-box%20jerboa-ignore'}});J.ui['setting_box']['page_size']=$.Element.set({tag:'div'});J.ui['setting_box']['page_size'].appendChild($.Element.set({tag:'p',html:'Page%20Height',attr:{'class':'jerboa-ignore','style':'float:left;margin-right:25px;'}}));J.ui['setting_box']['page_size'].appendChild($.Element.set({tag:'p',attr:{'style':'float:left;','class':'jerboa-ignore'}}));J.ui['setting_box']['page_size'].lastChild.appendChild($.UI.textfield());J.ui['setting_box']['page_size'].lastChild.innerHTML=J.ui['setting_box']['page_size'].lastChild.innerHTML+'%20px';J.ui['setting_box']['page_size'].appendChild($.Element.set($.UI.button('OK'),{event:{add:'click',fn:$.bind(J.setPageHeight,J,0)}}));J.ui['setting_box']['page_size'].lastChild.setAttribute('style','margin-left:110px;margin-top:10px;clear:both;');J.ui['setting_box'].appendChild(J.ui['setting_box']['page_size']);J.ui['setting_box']['paragraph']=$.Element.set({tag:'div',attr:{'class':'jerboa-hide'},html:'<table><tr><td%20colspan=\'6\'>Paragraph</td></tr><tr%20style=\'font-variant:small-caps\'><td%20width=\'10\'></td><td>word%20spacing</td><td%20width=\'20\'></td><td><input%20type=\'text\'%20maxlength=\'3\'%20style=\'width:25px\'%20/></td><td>px</td></tr><tr%20height=\'10\'><td%20colspan=\'6\'></td></tr><tr%20style=\'font-variant:small-caps\'><td%20width=\'10\'></td><td>letter%20spacing</td><td%20width=\'20\'></td><td><input%20type=\'text\'%20maxlength=\'3\'%20style=\'width:25px\'%20/></td><td>px</td></tr><tr%20height=\'10\'><td%20colspan=\'6\'></td></tr><tr><td%20colspan=\'3\'></td><td%20colspan=\'3\'></td></tr></table>'});J.ui['setting_box']['paragraph'].children[0].children[0].lastChild.lastChild.appendChild($.Element.set({event:{add:'click',fn:$.bind(J.setParagraph,J,0)},attr:{'class':'jerboa-button'},html:'<span>OK</span>'}));J.ui['setting_box'].appendChild(J.ui['setting_box']['paragraph']);J.ui['main'].appendChild(J.ui['setting_box']);J.ui['infobox']={layout:$.Element.set({tag:'div',attr:{id:'jerboa-infobox','class':'jerboa-hide','style':''}}),element:$.Element.set({tag:'p'}),setText:function(text){J.ui['infobox'].element.innerHTML='<span></span>'+text;return%20J.ui['infobox'].layout}};J.ui['infobox'].layout.appendChild(J.ui['infobox'].element);J.ui['main'].appendChild(J.ui['infobox'].layout);J.ui['errorbox']={layout:$.Element.set({tag:'div',attr:{id:'jerboa-errorbox','class':'jerboa-hide','style':''}}),element:$.Element.set({tag:'p'}),setText:function(text){J.ui['errorbox'].element.innerHTML='<span></span>'+text;return%20J.ui['errorbox'].layout}};J.ui['errorbox'].layout.appendChild(J.ui['errorbox'].element);J.ui['main'].appendChild(J.ui['errorbox'].layout);$.CSS.removeClass(J.ui['dark_screen'],'jerboa-hide');J.ui['menu'][0].appendChild($.Element.set({tag:'div',html:'Page%20Size',attr:{'class':'jerboa-ignore'},event:{add:'click',fn:$.bind(J.show.setting_box,J,0,[J.ui['setting_box'],J.ui['setting_box']['page_size'],J.ui['dark_screen']])}}));J.ui['menu'][0].appendChild($.Element.set({tag:'div',html:'Insert',attr:{'class':'jerboa-ignore'},event:{add:'click',fn:$.bind(J.show.menu,J,0,J.ui['menu'][1])}}));J.ui['menu'][0].appendChild($.Element.set({tag:'div',html:'Finish',attr:{'class':'jerboa-ignore'},event:{add:'click',fn:J.end}}));J.currentPanel=J.ui['menu'][0];J.ui['main_menu'].appendChild(J.ui['menu'][0]);J.ui['menu'][1].appendChild($.Element.set({tag:'span',attr:{'class':'jerboa-backbutton%20jerboa-ignore'},html:'&lt;',event:{add:'click',fn:J.cache.tempFn7}}));J.ui['menu'][1].appendChild($.Element.set({tag:'div',html:'<span></span><p%20class=\'jerboa-ignore\'>Text</p>',event:{add:'click',fn:$.bind(J.insert.text,J,0)}}));J.ui['menu'][1].appendChild($.Element.set({tag:'div',html:'<span></span><p%20class=\'jerboa-ignore\'>Image</p>'}));J.ui['main_menu'].appendChild(J.ui['menu'][1]);loader.innerHTML='init%20text%20toolbar';J.ui['menu'][2].innerHTML='<span%20class=\'jerboa-backbutton\'><</span><div><div%20class=\'jerboa-group\'><button><span%20style=\'background:url(img/color7.png)%20no-repeat\'></span></button><button><span%20style=\'background:url(img/color6.png)%20no-repeat\'></span></button><button><span%20style=\'background:url(img/color8.png\')%20no-repeat\'></span></button><button><span%20style=\'background:url(img/color9.png)%20no-repeat\'></span></button></div></div><div><div%20class=\'jerboa-group\'><button><span%20style=\'background:url(img/color.png)%20no-repeat\'></span></button><button><span%20style=\'background:url(img/color1.png)%20no-repeat\'></span></button><button><b>B</b></button><button><i>I</i></button><button><u>U</u></button><button><span%20style=\'background:url(img/color2.png)%20no-repeat\'></span></button><button><span%20style=\'background:url(img/color3.png)%20no-repeat\'></span></button><button><span%20style=\'background:url(img/color4.png)%20no-repeat\'></span></button><button><span%20style=\'background:url(img/color5.png)%20no-repeat\'></span></button></div></div><div><div%20class=\'jerboa-group\'><button><b><i>F</i></b></button><button><b>P</b></button></div></div>'.replace(/img\//ig,J.currentPath+'img/');_temp_element=J.ui['menu'][2];$.Events.add(_temp_element.children[0],'click',J.cache.tempFn7);$.Events.add(_temp_element.children[1].children[0].children[0],'click',$.bind(J.text.format,null,0,'outdent'));$.Events.add(_temp_element.children[1].children[0].children[1],'click',$.bind(J.text.format,null,0,'indent'));$.Events.add(_temp_element.children[1].children[0].children[2],'click',$.bind(J.text.format,null,0,'insertunorderedlist'));$.Events.add(_temp_element.children[1].children[0].children[3],'click',$.bind(J.text.format,null,0,'insertorderedlist'));$.Events.add(_temp_element.children[2].children[0].children[0],'click',$.bind(J.text.format,null,0,'forecolor'));$.Events.add(_temp_element.children[2].children[0].children[1],'click',$.bind(J.text.format,null,0,'backcolor'));$.Events.add(_temp_element.children[2].children[0].children[2],'click',$.bind(J.text.format,null,0,'bold'));$.Events.add(_temp_element.children[2].children[0].children[3],'click',$.bind(J.text.format,null,0,'italic'));$.Events.add(_temp_element.children[2].children[0].children[4],'click',$.bind(J.text.format,null,0,'underline'));$.Events.add(_temp_element.children[2].children[0].children[5],'click',$.bind(J.text.format,null,0,'justifyleft'));$.Events.add(_temp_element.children[2].children[0].children[6],'click',$.bind(J.text.format,null,0,'justifycenter'));$.Events.add(_temp_element.children[2].children[0].children[7],'click',$.bind(J.text.format,null,0,'justifyright'));$.Events.add(_temp_element.children[2].children[0].children[8],'click',$.bind(J.text.format,null,0,'justifyfull'));$.Events.add(_temp_element.children[3].children[0].children[1],'click',$.bind(J.show.setting_box,J,0,[J.ui['dark_screen'],J.ui['setting_box'],J.ui['setting_box']['paragraph']]));loader.innerHTML='start%20jerboa';setTimeout(function(){document.body.removeChild(loader)},1000);J.ui['main_menu'].appendChild(J.ui['menu'][2]);_fragment.appendChild(J.ui['main']);document.body.appendChild(_fragment);addDocumentEvent('click',J.click);addDocumentEvent('dblclick',J.dbclick)},insert:{text:function(){var%20$=this.$,_layer=this.ui['layer'][this.currentLayer],_element=_layer.appendChild($.Element.set({tag:'div',html:'<p>Insert%20Text%20Here</p>'}));this.show.menu.call(this,this.ui['menu'][0])}},text:{format:function(command){var%20haveArgCommand={'forecolor':true,'backcolor':true},cssCommand={'justifyleft':true,'justifycenter':true,'justifyright':true,'justifyfull':true},clearColorCommand={'clear':true,'transparent':true,'remove':true,'clearcolor':true,'removecolor':true},args=null;if(cssCommand[command]==true){if(!document.execCommand(command,false,args))Jerboa.$.CSS.addStyle(Jerboa.currentEditElement,{'text-align':command.replace(/justify/ig,'')});return%20false}if(haveArgCommand[command]==true){args=prompt('Insert%20RGB%20color','000000');if(clearColorCommand[args]==true||(args.length!=3&&args.length!=6)){args='transparent'}else%20if(Jerboa.$.env.firefox||Jerboa.$.env.webkit)args='#'+args}document.execCommand(command,false,args)}},refreshScreen:function(){var%20$=this.$,propElement=$.CSS.getPosition(this.ui['screen']),propDoc={width:Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),height:Math.max(document.body.offsetHeight,document.documentElement.offsetHeight)};$.CSS.addStyle(this.ui['light_screen_left'],{top:'0px',left:'0px',width:propElement.x+'px',height:propDoc.height+'px'});$.CSS.addStyle(this.ui['light_screen_top'],{top:'0px',left:propElement.x+'px',width:propElement.width+'px',height:propElement.y+'px'});$.CSS.addStyle(this.ui['light_screen_right'],{top:'0px',left:parseInt(propElement.x+propElement.width)+'px',width:parseInt(propDoc.width-propElement.x-propElement.width)+'px',height:propDoc.height+'px'});$.CSS.addStyle(this.ui['light_screen_bottom'],{top:parseInt(propElement.y+propElement.height)+'px',left:propElement.x+'px',width:propElement.width+'px',height:parseInt(propDoc.height-propElement.y-propElement.height)+'px'})},setPageHeight:function(){var%20$=this.$,_height=this.ui['setting_box']['page_size'].children[1].children[0].value;$.CSS.addStyle(this.ui['screen'].element,{'height':_height+'px'});$.CSS.addClass(this.ui['setting_box'],'jerboa-hide');$.CSS.addClass(this.ui['setting_box']['page_size'],'jerboa-hide');$.CSS.addClass(this.ui['dark_screen'],'jerboa-hide');this.refreshScreen.call(this)},setParagraph:function(){var%20$=this.$,_root=this.ui['setting_box']['paragraph'].children[0].children[0],_word_spacing=_root.children[1].children[3].children[0].value,_letter_spacing=_root.children[3].children[3].children[0].value;$.CSS.addStyle(this.currentEditElement,{'word-spacing':_word_spacing+'px','letter-spacing':_letter_spacing+'px'});$.CSS.addClass(this.ui['setting_box'],'jerboa-hide');$.CSS.addClass(this.ui['setting_box']['paragraph'],'jerboa-hide');$.CSS.addClass(this.ui['dark_screen'],'jerboa-hide')},show:{menu:function(element){this.$.CSS.addClass(this.currentPanel,'jerboa-hide');this.$.CSS.removeClass(element,'jerboa-hide');this.currentPanel=element},setting_box:function(element){if(element.length){for(var%20i=0,len=element.length;i<len;i++){this.$.CSS.removeClass(element[i],'jerboa-hide')}}else%20this.$.CSS.removeClass(element,'jerboa-hide')}},hide:function(element){if(element.length){for(var%20i=0,len=element.length;i<len;i++){this.$.CSS.addClass(element[i],'jerboa-hide')}}else%20this.$.CSS.addClass(element,'jerboa-hide')},touch:function(e){var%20$=Jerboa.$,data=Jerboa.cache,event=$.Events.standardize(e),sizeBorder=1;if(Jerboa.currentState!='textedit')event.preventDefault();if(e.type=='mousedown'){data.x=event.pageX;data.y=event.pageY;$.Events.add(document,'mousemove',Jerboa.touch);$.Events.add(document,'mouseup',Jerboa.touch)}else%20if(e.type=='mousemove'){if(e.shiftKey){data.root_w+=event.pageX-data.x;data.root_h+=event.pageY-data.y}else%20if(/move$/i.test(Jerboa.currentState)){data.root_left+=event.pageX-data.x;data.root_top+=event.pageY-data.y}if(data.root_top+data.root_h+2*sizeBorder>data.screen_h)data[e.shiftKey?'root_h':'root_top']-=event.pageY-data.y;else%20if(data.root_top<0)data.root_top-=event.pageY-data.y;if(data.root_left+data.root_w+2*sizeBorder>data.screen_w)data[e.shiftKey?'root_w':'root_left']-=event.pageX-data.x;else%20if(data.root_left<0)data.root_left-=event.pageX-data.x;if(e.shiftKey)$.CSS.addStyle(Jerboa.currentEditElement,{width:data.root_w+'px',height:data.root_h+'px'});else%20if(/move$/i.test(Jerboa.currentState))$.CSS.addStyle(Jerboa.currentEditElement,{top:data.root_top+'px',left:data.root_left+'px'});data.x=event.pageX;data.y=event.pageY}else%20if(e.type=='mouseup'){delete%20data.x;delete%20data.y;$.Events.remove(document,'mousemove',Jerboa.touch);$.Events.remove(document,'mouseup',Jerboa.touch)}},click:function(e){var%20$=Jerboa.$,event=$.Events.standardize(e),data=Jerboa.cache;if(Jerboa.currentState=='textedit'){if($.CSS.hasClass(event.target,'jerboa-ignore'))Jerboa.restoreNormalState();return%20false}event.preventDefault();if(!$.CSS.hasClass(event.target,'jerboa-ignore')){switch(Jerboa.detectMedia(event.target)){case'text':var%20_root=event.target;while(!$.CSS.hasClass(_root.parentNode,'jerboa-ignore')){_root=_root.parentNode}if(Jerboa.currentEditElement==_root&&Jerboa.currentState=='textmove')return%20false;if(Jerboa.currentEditElement!=null)Jerboa.restoreNormalState();Jerboa.currentEditElement=_root;$.CSS.addClass(_root,'jerboa-touch');$.Events.add(_root,'mousedown',Jerboa.touch);Jerboa.currentState='textmove';data.screen_top=Jerboa.ui['screen'].offsetTop;data.screen_left=Jerboa.ui['screen'].offsetLeft;data.screen_w=Jerboa.ui['screen'].offsetWidth;data.screen_h=Jerboa.ui['screen'].offsetHeight;data.root_top=_root.offsetTop;data.root_left=_root.offsetLeft;data.root_w=_root.offsetWidth;data.root_h=_root.offsetHeight;return%20false;break;case'image':break;default:break}}Jerboa.restoreNormalState()},dbclick:function(e){var%20$=Jerboa.$,event=$.Events.standardize(e),data=Jerboa.cache;event.preventDefault();if(!$.CSS.hasClass(event.target,'jerboa-ignore')){switch(Jerboa.detectMedia(event.target)){case'text':var%20_root=event.target;while(!$.CSS.hasClass(_root.parentNode,'jerboa-ignore')){_root=_root.parentNode}if(Jerboa.currentEditElement==_root&&Jerboa.currentState=='textedit')return%20false;if(Jerboa.currentEditElement!=null)Jerboa.restoreNormalState();Jerboa.currentEditElement=_root;$.CSS.addClass(_root,'jerboa-touch');$.Events.add(_root,'mousedown',Jerboa.touch);Jerboa.show.menu.call(Jerboa,Jerboa.ui['menu'][2]);_root.setAttribute('contenteditable','true');_root.focus();Jerboa.currentState='textedit';return%20false;break;case'image':break;default:break}}},detectMedia:function(element){if(element.tagName.toLowerCase()=='img'){return'image'}else{return'text'}},restoreNormalState:function(e){switch(Jerboa.currentState){case'textmove':$.CSS.removeClass(Jerboa.currentEditElement,'jerboa-touch');$.Events.remove(Jerboa.currentEditElement,'mousedown',Jerboa.touch);Jerboa.currentEditElement=null;Jerboa.currentState='';break;case'textedit':$.CSS.removeClass(Jerboa.currentEditElement,'jerboa-touch');Jerboa.currentEditElement.setAttribute('contenteditable','false');$.Events.remove(Jerboa.currentEditElement,'mousedown',Jerboa.touch);Jerboa.show.menu.call(Jerboa,Jerboa.ui['menu'][0]);Jerboa.currentEditElement=null;Jerboa.currentState='';break;default:break}},send:function(objSetting){var%20xmlhttp=null,method=objSetting.method.toUpperCase()||'GET',url=objSetting.url,dataKey='',dataToSend='';delete%20objSetting.method;delete%20objSetting.url;if(window.XMLHttpRequest){xmlhttp=new%20XMLHttpRequest()}else{xmlhttp=new%20ActiveXObject('Microsoft.XMLHTTP')}for(dataKey%20in%20objSetting){dataToSend+=dataKey+'='+objSetting[dataKey]+'&'}dataToSend=dataToSend.substr(0,dataToSend.length-1);if(method=='GET'){if(/\?/.test(url))url=url+'&'+dataToSend;else%20url=url+'?'+dataToSend}xmlhttp.open(method,encodeURI(url),true);xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){if(xmlhttp.status==200)console.log('Jerboa%20send%20complete');else%20console.log('Jerboa%20send%20fail')}};if(method=='POST'){xmlhttp.setRequestHeader('Content-type','application/x-www-form-urlencoded');xmlhttp.setRequestHeader('Content-length',dataToSend.split('&').length);xmlhttp.setRequestHeader('Connection','close');xmlhttp.send(encodeURI(dataToSend))}else%20xmlhttp.send()},save:function(){},end:function(){Jerboa.save.call(Jerboa);document.body.removeChild(Jerboa.ui['main']);for(i=0,len=document.styleSheets.length;i<len;i++){if(/jerboa\.css/i.test(document.styleSheets[i].href)){document.getElementsByTagName('head')[0].removeChild(document.styleSheets[i].ownerNode);break}}Jerboa.restoreNormalState();Jerboa.$.Events.remove(document,'click',Jerboa.click);Jerboa.$.Events.remove(document,'dblclick',Jerboa.dbclick)}};if(DEBUG_MODE){Jerboa.$.onDomReady(Jerboa.init)}else%20if(document.body){Jerboa.init()}else{if(_window.$){Jerboa.init()}else{Jerboa.$.onDomReady(Jerboa.init)}}return%20Jerboa}})();Jerboa('jerboa-edit','http://github.com/nodtem66/jerboa/raw/master/')">
